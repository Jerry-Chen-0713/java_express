web/addExpress
<!DOCTYPE html>
<html>
<head>
    <title>录入快递 -- 快件e栈服务平台</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />

    <link href="css/normalize.css" type="text/css" rel="stylesheet" />
    <link href="css/common.css" type="text/css" rel="stylesheet" />
    <script src="js/jquery.min.js" type="text/javascript"></script>
    <script src="js/common.js" type="text/javascript"></script>
    <script src="js/notice.js" type="text/javascript"></script>
    <script src="js/regexp.js" type="text/javascript"></script>
    <script src="js/jweixin-1.2.0.js" type="text/javascript"></script>
    <style type="text/css">
        .content{
            position: relative;
        }
        .expEnterCont{
            padding-bottom: 20px;
        }
        .expEnterCont .expEnterIcon{
            width: 20%;
            margin: 0 auto;
        }
        .expEnterCont .expEnterIcon p{
            text-align: center;
            font-weight: bold;
        }

        .submitBtn{
            width: 90%;
            margin: 0 auto;
            text-align: center;
            line-height: 46px;
            border-radius: 23px;
            background: #1f72ff;
            color: #fff;
            font-weight: bolder;
        }

        .stopvoicerecord{
            width: 40%;
            height: 50px;
            position: absolute;
            top: 20px;
            right: 40px;
            display: none;
            background:purple;
        }

        .stopvoicerecord{
            position: absolute;
            top: 0%;
            left: 0%;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1001;
            display: none;
        }
        .stopvoicerecord .voiceRecordCont{
            width: 60%;
            background: #fff;
            border-radius: 8px;
            position: absolute;
            top: calc((100% - 216px) / 2);  /*30 + 110 +30 + 10 +36 == 216*/
            left: 20%;
            padding: 20px 0px 10px;
        }
        .stopvoicerecord .voiceRecordCont img{
            display: block;
            margin: 0 auto;
            width: 110px;
        }
        .stopvoicerecord .voiceRecordCont .voiceRecordState{
            margin: 0px;
            text-align: center;
            font-size: 14px;
            color: #777777;
            line-height: 30px;
        }
        .stopvoicerecord .voiceRecordCont #stopVoiceRecordBtn{
            margin: 10px auto 0px;
            width: 90%;
            text-align: center;
            line-height: 36px;
            background: #3eb94e;
            font-size: 14px;
            color: #fff;
            font-weight: bold;
            border-radius: 18px;
        }
    </style>
</head>
<body>
<div class="content">
    <div class="headerNav">
        <div class="headerNavTop"><div class="headerNavIcon headerNavIconOut"><span></span><span></span></div></div>
        <div class="headerNavCont">
            <a href="index.html">快递首页</a>
            <a href="userhome.html">个人中心</a>
            <a href="delivery.html">送货上门</a>
            <a href="sendexpress.html">我要寄件</a>
            <a href="lazyboard.html">懒人排行</a>
            <a href="expassistant.html">快递助手</a>
        </div>
    </div>

    <div class="expEnterCont">
        <div class="expEnterIcon">
            <img src="images/expentericon.png" width="100%">
            <p>录入快递</p>
        </div>
        <div class="expEnterInput">
            <input id="timestamp" type="hidden" value="${timestamp}" />
            <input id="noncestr" type="hidden" value="${nonceStr}" />
            <input id="signature" type="hidden" value="${signature}" />
            <input id="appId" type="hidden" value="${appId}" />
            <form>
                <input id="PageContext" type="hidden" value="${pageContext.request.contextPath}" />
                <input id="wxCode" type="hidden" value="${wxCode}" />
                <div class="userInputCont">
                    <div class="inputTypeCont">
                        <div class="inputTitle">单号</div>
                        <input type="text" id="expressId" class="commonInputFunc" name="expressId" placeholder="请输入快递单号...">
                    </div>
                    <div class="inputTypeCont">
                        <div class="inputTitle">姓名</div>
                        <input type="text" id="username" class="commonInputFunc" name="username" placeholder="请输入收件人姓名">
                    </div>
                    <div class="inputTypeCont">
                        <div class="inputTitle">手机</div>
                        <input type="text" id="phone" class="commonInputFunc" name="phone" placeholder="录入后短信自动提醒">
                    </div>
                    <div class="inputTypeCont">
                        <div class="inputTitle">公司</div>
                        <select id="company" name="company">
                            <option selected="selected">顺丰速运</option>
                            <option>申通快递</option>
                            <option>圆通速递</option>
                            <option>韵达快递</option>
                            <option>中通快递</option>
                            <!-- 其他快递公司选项 -->
                        </select>
                    </div>
                </div>
            </form>
            <div class="submitBtn" id="submitBtn">录入信息</div>
        </div>
    </div>
</div>


<script type="text/javascript">
    $(document).ready(function() {
        $('#submitBtn').on('click', function() {
            var expressId = $('#expressId').val().trim();
            var username = $('#username').val().trim();
            var phone = $('#phone').val().trim();
            var company = $('#company').val();

            // 验证代码...
            if (!expressId) {
                alert('请输入快递单号');
                return;
            }
            if (!username) {
                alert('请输入收件人姓名');
                return;
            }
            if (!phone) {
                alert('请输入手机号码');
                return;
            }

            var phoneRegex = /^1[3-9]\d{9}$/;
            if (!phoneRegex.test(phone)) {
                alert('请输入正确的手机号码');
                return;
            }

            var $btn = $(this);
            $btn.prop('disabled', true).text('提交中...');

            // 使用表单格式发送数据（不是JSON）
            $.ajax({
                url: '/express/insert.do',
                type: 'POST',
                data: {
                    number: expressId,
                    username: username,
                    userPhone: phone,
                    company: company,
                    sysPhone: '16666666666'
                },
                dataType: 'json',
                success: function(response) {
                    console.log('服务器响应:', response);

                    if (response.status === 0) {
                        alert('快递信息录入成功！');
                        $('#expressId').val('');
                        $('#username').val('');
                        $('#phone').val('');
                    } else {
                        alert('录入失败: ' + response.result);
                    }
                },
                error: function(xhr, status, error) {
                    console.error('请求错误:', error);
                    alert('网络错误，请检查网络连接后重试');
                },
                complete: function() {
                    $btn.prop('disabled', false).text('录入信息');
                }
            });
        });
    });
</script>

</body>
</html>